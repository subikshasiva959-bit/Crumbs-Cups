<!DOCTYPE html>
<html lang="en">
<head>
  <title>Payment | Sweet Cravings</title>
  <link rel="icon" href="ChatGPT Image Dec 31, 2025, 10_14_55 PM.png">
  <link rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <style>
    body {
      margin: 0;
      font-family: 'Times New Roman', Times, serif;
      background: linear-gradient(135deg, #fff0ec, #ffeaea);
    }

    /* NAVBAR */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 18px 60px;
      background: linear-gradient(135deg, #fff0ec, #ffeaea);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    .navbar h1 {
      font-size: 34px;
      color: #d66b6b;
      margin: 0;
    }

    /* CONTAINER */
    .container {
      width: 55%;
      margin: 50px auto;
      background: #fff;
      padding: 35px;
      border-radius: 18px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
    }

    h2 {
      text-align: center;
      color: #d66b6b;
      margin-bottom: 30px;
    }
    
.navbar h1:hover {
  transform: scale(1.05);
}

.navbar-icons a {
  margin-left: 25px;
  text-decoration: none;
  color: #7c6a61;
  font-size: 17px;
  font-weight: 500;
  transition: all 0.3s ease;
  padding: 6px 10px;
  border-radius: 6px;
}

.navbar-icons a:hover {
  color: #fff;
  background-color: #d66b6b;
  box-shadow: none;
}

.navbar-icons a i {
  margin-right: 6px;
  color: #d66b6b;
  transition: transform 0.3s ease;
}

.navbar-icons a:hover i {
  color: #fff;
  transform: rotate(-15deg) scale(1.2);
}

    label {
      font-size: 16px;
      color: #444;
      display: block;
      margin-top: 15px;
    }

    input, textarea {
      width: 100%;
      padding: 12px;
      margin-top: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 15px;
    }

    /* ORDER SUMMARY */
    .summary-box {
      background: #fff7f5;
      padding: 20px;
      border-radius: 12px;
      border: 1px solid #f3cfcf;
      margin-top: 25px;
    }

    .summary-item {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px dashed #ddd;
    }

    .summary-item:last-child {
      border-bottom: none;
    }

    .summary-total {
      text-align: right;
      font-size: 18px;
      font-weight: bold;
      margin-top: 15px;
    }

    .cod-box {
      background: #ffeaea;
      padding: 15px;
      border-radius: 10px;
      margin-top: 25px;
      font-size: 16px;
    }

    .place-order {
      width: 100%;
      padding: 14px;
      background: #d66b6b;
      color: #fff;
      border: none;
      border-radius: 30px;
      font-size: 18px;
      cursor: pointer;
      margin-top: 30px;
    }

    .place-order:hover {
      background: #b55555;
    }

    .success {
      display: none;
      margin-top: 25px;
      padding: 18px;
      background: #eaffea;
      border-radius: 12px;
      color: green;
      font-size: 16px;
      text-align: center;
    }

    /* RESPONSIVE */
    @media(max-width: 900px) {
      .container { width: 90%; }
      .navbar { padding: 15px 25px; }
    }
  </style>
</head>

<body>

<!-- NAVBAR -->
<div class="navbar">
  <h1>Crumbs & Cups</h1>
  <div class="navbar-icons">
      <a href="index.html"><i class="fas fa-home"></i> Home</a>
      <a href="track-order.html" ><i class="fas fa-location-dot"></i> Track Order</a>
      <a href="Cart.html"><i class="fas fa-shopping-cart"></i> Cart</a>
      <a href="Contact.html" target=""><i class="fas fa-envelope"></i> Contact</a>
    </div>
</div>

<!-- PAYMENT CONTAINER -->
<div class="container">
  <h2>Checkout</h2>

  <label>Full Name</label>
  <input type="text" id="name" placeholder="Enter your name">

  <label>Phone Number</label>
  <input type="text" id="phone" placeholder="Enter phone number">

  <label>Delivery Address</label>
  <textarea id="address" rows="4"
    placeholder="Enter delivery address"></textarea>

  <!-- ORDER SUMMARY -->
  <div class="summary-box">
    <h3>Order Summary</h3>
    <div id="orderSummary"></div>
    <div class="summary-total" id="grandTotal"></div>
  </div>

  <!-- PAYMENT METHOD -->
  <div class="cod-box">
    <i class="fas fa-money-bill-wave"></i>
    Payment Method: <strong>Cash on Delivery</strong>
  </div>

  <button class="place-order" onclick="placeOrder()">Place Order</button>

  <div class="success" id="successMsg"></div>
</div>

<script>
/* ========= LOAD ORDER SUMMARY ========= */
let cart = JSON.parse(localStorage.getItem("cart")) || [];
let summaryDiv = document.getElementById("orderSummary");
let totalDiv = document.getElementById("grandTotal");
let total = 0;

if (cart.length === 0) {
  summaryDiv.innerHTML = "<p>Your cart is empty</p>";
} else {
  cart.forEach(item => {
    let itemTotal = item.price * item.quantity;
    total += itemTotal;

    let div = document.createElement("div");
    div.className = "summary-item";
    div.innerHTML = `
      <span>${item.name} (x${item.quantity})</span>
      <span>â‚¹${itemTotal}</span>
    `;
    summaryDiv.appendChild(div);
  });

  totalDiv.innerText = "Grand Total: â‚¹" + total;
}

/* ========= PLACE ORDER ========= */
function placeOrder() {
  let name = document.getElementById("name").value.trim();
  let phone = document.getElementById("phone").value.trim();
  let address = document.getElementById("address").value.trim();

  if (!name || !phone || !address) {
    alert("Please fill all details");
    return;
  }

  if (cart.length === 0) {
    alert("Cart is empty");
    return;
  }

  let orders = JSON.parse(localStorage.getItem("orders")) || [];
  let orderId = "SC" + Date.now();

  let order = {
    orderId,
    customerName: name,
    phone,
    address,
    items: cart,
    total,
    paymentMethod: "Cash on Delivery",
    status: "Pending",

    placedAt: new Date().toLocaleString(),
    dispatchedAt: null,
    deliveredAt: null,
    cancelledAt: null
  };

  orders.push(order);
  localStorage.setItem("orders", JSON.stringify(orders));
  localStorage.removeItem("cart");

  let successDiv = document.getElementById("successMsg");
  successDiv.style.display = "block";
  successDiv.innerHTML = `
    ðŸŽ‰ <b>Order Placed Successfully!</b><br><br>
    <b>Order ID:</b>
    <span style="color:#d66b6b; font-size:18px;">${orderId}</span><br><br>
    Please save this Order ID to track your order.
  `;
}
</script>
<script>
let user = JSON.parse(localStorage.getItem("loggedInUser"));

if (!user) {
  alert("Please login to continue checkout");
  window.location.href = "login.html";
}
</script>


</body>
</html>
